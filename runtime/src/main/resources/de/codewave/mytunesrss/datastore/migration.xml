<?xml version="1.0" encoding="UTF-8"?>

<statements>
    <statement name="getVersion">
        <sql>SELECT version AS version FROM system_information</sql>
    </statement>

    <statement name="migrate30to31eap1">
        <sql>DROP TABLE pager</sql>
    </statement>

    <statement name="migrate31eap131eap4">
        <sql>ALTER TABLE track ALTER COLUMN id VARCHAR(100) NOT NULL</sql>
        <sql>ALTER TABLE link_track_playlist ALTER COLUMN track_id VARCHAR(100) NOT NULL</sql>
    </statement>

    <statement name="migrate31eap4to31eap6">
        <sql>UPDATE system_information SET lastupdate = 0</sql>
        <sql>
            {create_table_prefix} image (
                track_id VARCHAR(100) NOT NULL,
                size INTEGER NOT NULL,
                data {image_datatype} NOT NULL,
                UNIQUE(track_id, size))
        </sql>
    </statement>

    <statement name="migrate31eap6to31eap9">
        <sql>ALTER TABLE playlist ALTER COLUMN id VARCHAR(100)</sql>
        <sql>ALTER TABLE link_track_playlist ALTER COLUMN playlist_id VARCHAR(100)</sql>
    </statement>
</statements>