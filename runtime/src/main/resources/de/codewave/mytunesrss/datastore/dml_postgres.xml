<?xml version="1.0" encoding="UTF-8"?>

<statements>

    <statement name="findRandomTracks">
        <sql>SELECT random() AS rnd, {trackColumns} FROM track t ORDER BY rnd LIMIT :maxCount OFFSET 0</sql>
    </statement>

    <statement name="findAlbumImage">
        <sql>
            SELECT data AS data FROM image WHERE size = :size AND track_id IN (SELECT id from TRACK where album = :album) LIMIT 1 OFFSET 0
        </sql>
    </statement>

    <statement name="nextPlaylistId">
        <sql>SELECT nextval('playlist_id_sequence') AS id FROM system_information</sql>
    </statement>

    <statement name="tuneDatabase">
        <sql>ANALYZE</sql>
    </statement>

    <!-- reusable sql fragments -->
    <fragment name="likeEscape">ESCAPE '\\'</fragment>
</statements>