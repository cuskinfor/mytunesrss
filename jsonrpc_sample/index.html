<html>
<head>
<script src="prototype.js" type="text/javascript"></script>
<script type="text/javascript">
function login() {
    var username = document.getElementById("username").value;
    var password = document.getElementById("password").value;
    new Ajax.Request("/mytunesrss/jsonrpc", {
        contentType:"application/json",
        postBody:$H({version:"1.1",method:"LoginService.login",id:"1", params:[username, password, 2]}).toJSON(),
        onSuccess: function(response) {
            var json = response.responseText.evalJSON();
            if (json.result) {
                document.location.href = "albums.html?sid=" + json.result;
            } else {
                alert("login failed");
            }
        },
        onFailure: function() {
            alert("login failed");
        }
    });
}
</script>
</head>
<body>
Username:<input id="username" type="text" /><br />
Password:<input id="password" type="password" /><br />
<a href="#" onclick="login()">login</a>
</body>
</html>
